<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>caronade Ports CI</title>
		<link rel="stylesheet" href="/static/caronade.min.css" nonce="{{.Nonce}}">
		<link rel="icon" type="image/png" href="/static/favicon-32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/static/favicon-96.png" sizes="96x96">
	</head>
	<body>

		<nav class="navbar is-light" role="navigation" aria-label="main navigation">
			<div class="navbar-brand">
				<a class="navbar-item">
					<img class="img" src="/static/logo.png" alt="logo" />
				</a>
				<a class="navbar-item" href="/">caronade</a>
			</div>
		</nav>

		<section class="section">
			{{range .Jobs}}
			<div class="box">
				<article class="media">
					<div class="media-left">
						<span class="icon icon-{{.StatusOverall}}"></span>
					</div>
					<div class="media-content">
						<div class="content">
							<a href="/builds/{{.ID}}/">{{.ShortCommitMessage}}</a>
							<button class="button is-small is-static is-pulled-right">{{.JobRuntime}}</button>
						</div>
						<div class="level-left">
							<div class="field is-grouped is-grouped-multiline">
								<div class="control">
									<div class="tags has-addons">
										<span class="tag is-light"><span class="is-small icon icon-user"></span></span>
										<a class="tag is-info is-light" href="https://github.com/{{(index .PushEvent.Commits .CommitIdx).Author.Username}}">{{(index .PushEvent.Commits .CommitIdx).Author.Username}}</a>
									</div>
								</div>
								<div class="control">
									<div class="tags has-addons">
										<span class="tag is-light"><span class="is-small icon icon-branch"></span></span>
										<a class="tag is-info is-light" href="{{.PushEvent.Repository.HTMLURL}}/tree/{{.PushEvent.Branch}}">{{.PushEvent.ShortBranch}}</a>
									</div>
								</div>
								<div class="control">
									<div class="tags has-addons">
										<span class="tag is-light"><span class="is-small icon icon-commit"></span></span>
										<a class="tag is-info is-light" href="{{(index .PushEvent.Commits .CommitIdx).URL}}">{{.ShortCommitID}}</a>
									</div>
								</div>
								<div class="control">
									<div class="tags has-addons">
										<span class="tag is-light"><span class="is-small icon icon-port"></span></span>
										<a class="tag is-danger is-light" href="https://www.freshports.org/{{.Port}}">{{.Port}}</a>
									</div>
								</div>
								<div class="control">
									<div class="tags has-addons">
										<span class="tag is-light"><span class="is-small icon icon-clock"></span></span>
										<span class="tag is-primary is-light">{{.StartDate}}</span>
									</div>
								</div>

								{{if eq .StatusOverall "building"}}
								<progress class="progress is-small" value="{{.Progress}}" max="100">{{.Progress}}%</progress>
								{{end}}
							</div>
						</div>
					</div>
				</article>
			</div>

			<br />
			{{else}}
			<p><i>none</i></p>
			{{end}}
		</section>

		<footer class="footer">
			<p>this page was generated by <a href="https://github.com/decke/caronade" target="_blank">caronade</a></p>
		</footer>
	</body>
</html>
